# CodeCraft-2021
华为2021软件精英挑战赛源码分享

#### 成绩
最终是取得 粤港澳赛区第9名的成绩。很遗憾没有进入全球总决赛

#### 主要策略
我们一开始将整个赛题分成三个主要部分：
- 购买服务器时该如何选择购买何种服务器
- 如果现有服务器有多个能够放置，该如何选择
- 迁移策略
- 其实最后还有订单处理的策略

##### 购买新服务器策略
购买新服务器主要考虑成本问题，一开始我们采用的策略是：<br>
　　　<b>cost = 每种服务器的建造成本 + 剩余天数 * 电费消耗成本</b><br>
按照这个从低到高排序，每次有add订单需要购买时，从低往高找，<b>一找到足够容量放置的就购买该种类型。</b><br>
但是复赛的时候发现，这种策略有一个问题就是购买的服务器种类非常单一。可能几万的订单处理下来，购买了6，7千台服务器，只有4，5种类型。因为这个排序基本是固定的，大容量的服务器一般成本都会比较高，但不代表其没用。有时候选择大容量的服务器能减少所需的服务器数量，以及在后面迁移时能够提高迁移成功概率。<br>
将排序方式添加一步：<br>
　　　<b>cost = cost - ( 100 - 150*当前处于第几天/总天数 ) * ( 服务器的内存 + 服务器的cpu )</b> （ 当前所处天数 < 总天数的2/3 ）<br>
这样做的目的：将服务器的大小也纳入考虑之中。前期150*当前处于第几天/总天数比较小，则服务器容量大的，cost减到的部分也比较多，则有更大的机会被选到。100和150是用来调节的参数，因为cost比较大，而服务器的容量比较小，如果没用参数调节，减去的效果不明显。
